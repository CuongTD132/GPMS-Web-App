<div class="bg-card -m-6 flex max-h-[calc(100vh-128px)] flex-auto flex-col p-6">
    <!-- Header -->
    <!-- <div
        class="relative flex flex-0 flex-col border-b px-6 py-8 sm:flex-row sm:items-center sm:justify-between md:px-8"
    >
        <div class="text-4xl font-extrabold tracking-tight">Create Product</div>
    </div> -->
    <div class="font-poppins overflow-y-scroll p-8 dark:bg-gray-800">
        <mat-stepper [linear]="true" #stepper>
            <mat-step
                [editable]="isEditGeneral"
                [stepControl]="createProductForm"
            >
                <form [formGroup]="createProductForm">
                    <ng-template matStepLabel
                        >Fill out general information</ng-template
                    >
                    <div class="flex gap-4">
                        <mat-form-field class="w-full">
                            <mat-label>Product Name</mat-label>
                            <input
                                matInput
                                placeholder="Product Name"
                                [formControlName]="'name'"
                            />
                        </mat-form-field>
                        <mat-form-field class="w-full">
                            <mat-label>Product Code</mat-label>
                            <input
                                matInput
                                placeholder="Product Code"
                                [formControlName]="'code'"
                            />
                        </mat-form-field>
                    </div>
                    <div class="flex gap-4">
                        <mat-form-field class="w-1/3">
                            <mat-label>Category</mat-label>
                            <mat-select [formControlName]="'categoryId'">
                                <ng-container *ngFor="let item of categories">
                                    <mat-option value="{{ item.id }}">{{
                                        item.name
                                    }}</mat-option>
                                </ng-container>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field class="w-full">
                            <mat-label>Description</mat-label>
                            <textarea
                                matInput
                                placeholder="Description"
                                [formControlName]="'description'"
                            ></textarea>
                        </mat-form-field>
                    </div>
                    <div>
                        <button
                            mat-button
                            matStepperNext
                            class="text-blue-700"
                            (click)="logGeneralForm()"
                        >
                            Next
                        </button>
                    </div>
                </form>
            </mat-step>

            <mat-step
                [editable]="isEditGeneral"
                [stepControl]="semiListForm"
                label="Add semi finished products list"
            >
                <form [formGroup]="semiListForm">
                    <div
                        class="semiFinishedProducts flex flex-col gap-2"
                        formGroupName="semiFinishedProducts"
                    >
                        <div class="grid">
                            <div
                                class="semiFinishedProducts-grid text-secondary grid gap-4 bg-gray-50 px-6 py-4 text-md font-semibold shadow dark:bg-black dark:bg-opacity-5 md:px-8"
                            >
                                <div class="hidden sm:block">Name</div>
                                <div class="hidden sm:block">Code</div>
                                <div class="hidden sm:block">Quantity</div>
                                <div class="hidden sm:block">Description</div>
                            </div>
                            <div class="max-h-80 overflow-y-scroll">
                                <ng-container
                                    *ngIf="
                                        semiListForm.controls
                                            .semiFinishedProducts !== null
                                    "
                                >
                                    <div
                                        *ngFor="
                                            let item of semiListForm.controls
                                                .semiFinishedProducts.controls;
                                            let i = index
                                        "
                                        [formGroupName]="i"
                                        class="semiFinishedProducts-grid grid items-center gap-4 border-b px-6 py-3 md:px-8"
                                    >
                                        <mat-form-field class="w-full">
                                            <input
                                                matInput
                                                type="text"
                                                placeholder="Name"
                                                [formControlName]="'name'"
                                        /></mat-form-field>
                                        <mat-form-field class="w-full">
                                            <input
                                                matInput
                                                type="text"
                                                placeholder="Code"
                                                [formControlName]="'code'"
                                        /></mat-form-field>
                                        <mat-form-field class="w-full">
                                            <input
                                                matInput
                                                type="number"
                                                min="0"
                                                placeholder="Quantity"
                                                [formControlName]="'quantity'"
                                        /></mat-form-field>
                                        <mat-form-field class="w-full">
                                            <input
                                                matInput
                                                placeholder="Description"
                                                [formControlName]="
                                                    'description'
                                                "
                                            />
                                        </mat-form-field>
                                        <button
                                            mat-raised-button
                                            class="mb-5"
                                            color="warn"
                                            (click)="deleteSemiRow(i)"
                                            [disabled]="
                                                semiListForm.controls
                                                    .semiFinishedProducts.value
                                                    .length === 1
                                            "
                                        >
                                            <span> Remove </span>
                                        </button>
                                    </div>
                                </ng-container>
                            </div>
                            <div class="mt-4 flex justify-end">
                                <button
                                    (click)="addNewSemiRow()"
                                    [disabled]="semiListForm.invalid"
                                    mat-raised-button
                                    color="primary"
                                >
                                    <span> Add More+ </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
                <div>
                    <button mat-button matStepperPrevious>
                        Back to fill out general information
                    </button>
                    <button
                        (click)="logSemiListForm()"
                        mat-button
                        matStepperNext
                        class="text-blue-700"
                    >
                        Next
                    </button>
                </div>
            </mat-step>

            <mat-step
                [editable]="isEditGeneral"
                [stepControl]="specificationsListForm"
                label="Add specifications list"
            >
                <!-- <div *ngIf="createProductForm.controls.specifications.value">
                    <span class="p-4 text-xl font-bold"
                        >Added
                        {{
                            createProductForm.controls.specifications.value
                                .length
                        }}
                        specification(s) successfully!</span
                    >
                </div> -->
                <mat-stepper
                    orientation="vertical"
                    [linear]="true"
                    #stepperSpec
                >
                    <mat-step
                        [editable]="isEditSubSpec"
                        [stepControl]="sizeForm"
                        label="Choose size"
                    >
                        <form [formGroup]="sizeForm">
                            <mat-form-field class="w-1/6">
                                <mat-label>Size</mat-label>
                                <mat-select [formControlName]="'sizeName'">
                                    <ng-container *ngFor="let item of sizes">
                                        <mat-option value="{{ item }}">{{
                                            item
                                        }}</mat-option>
                                    </ng-container>
                                </mat-select>
                            </mat-form-field>
                            <div>
                                <button
                                    mat-button
                                    matStepperNext
                                    class="text-blue-700"
                                >
                                    Next
                                </button>
                            </div>
                        </form>
                    </mat-step>

                    <mat-step
                        [editable]="isEditSubSpec"
                        [stepControl]="colorForm"
                        label="Choose color"
                    >
                        <form [formGroup]="colorForm">
                            <mat-form-field class="w-1/12">
                                <mat-label>Color</mat-label>
                                <input
                                    matInput
                                    type="color"
                                    [value]="
                                        specificationForm.controls.colorCode
                                    "
                                    class="h-full rounded-2xl"
                                    [formControlName]="'colorCode'"
                                    required
                            /></mat-form-field>
                            <div>
                                <button
                                    mat-button
                                    matStepperNext
                                    class="text-blue-700"
                                >
                                    Next
                                </button>
                            </div>
                        </form>
                    </mat-step>

                    <mat-step
                        [editable]="isEditSubSpec"
                        [stepControl]="measurementsListForm"
                        label="Add measurements list"
                    >
                        <form [formGroup]="measurementsListForm">
                            <div
                                class="measurements flex flex-col gap-2"
                                formGroupName="measurements"
                            >
                                <div class="grid">
                                    <div
                                        class="measurements-grid text-secondary grid gap-4 bg-gray-50 px-6 py-4 text-md font-semibold shadow dark:bg-black dark:bg-opacity-5 md:px-8"
                                    >
                                        <div class="hidden sm:block">Name</div>
                                        <div class="hidden sm:block">
                                            Measure
                                        </div>
                                        <div class="hidden sm:block">Unit</div>
                                    </div>
                                    <div class="max-h-80 overflow-y-scroll">
                                        <ng-container
                                            *ngIf="
                                                measurementsListForm.controls
                                                    .measurements !== null
                                            "
                                        >
                                            <div
                                                *ngFor="
                                                    let item of measurementsListForm
                                                        .controls.measurements
                                                        .controls;
                                                    let i = index
                                                "
                                                [formGroupName]="i"
                                                class="measurements-grid grid items-center gap-4 border-b px-6 py-3 md:px-8"
                                            >
                                                <mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        type="text"
                                                        placeholder="Name"
                                                        [formControlName]="
                                                            'name'
                                                        "
                                                /></mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        type="number"
                                                        min="0"
                                                        placeholder="Measure"
                                                        [formControlName]="
                                                            'measure'
                                                        "
                                                /></mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        placeholder="Unit"
                                                        [formControlName]="
                                                            'unit'
                                                        "
                                                    />
                                                </mat-form-field>
                                                <button
                                                    mat-raised-button
                                                    class="mb-5"
                                                    color="warn"
                                                    (click)="deleteMesureRow(i)"
                                                    [disabled]="
                                                        measurementsListForm
                                                            .controls
                                                            .measurements.value
                                                            .length === 1
                                                    "
                                                >
                                                    <span> Remove </span>
                                                </button>
                                            </div>
                                        </ng-container>
                                    </div>
                                    <div class="mt-4 flex justify-end">
                                        <button
                                            (click)="addNewMesureRow()"
                                            [disabled]="
                                                measurementsListForm.invalid
                                            "
                                            mat-raised-button
                                            color="primary"
                                        >
                                            <span> Add More+ </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <button mat-button matStepperPrevious>
                                    Back
                                </button>
                                <button
                                    (click)="logMesureForm()"
                                    mat-button
                                    matStepperNext
                                    class="text-blue-700"
                                >
                                    Next
                                </button>
                            </div>
                        </form>
                    </mat-step>

                    <mat-step
                        [editable]="isEditSubSpec"
                        [stepControl]="bomsListForm"
                        label="Add bill of materials list"
                    >
                        <form [formGroup]="bomsListForm">
                            <div
                                class="boms flex flex-col gap-2"
                                formGroupName="boMs"
                            >
                                <div class="grid">
                                    <div
                                        class="boms-grid text-secondary grid gap-4 bg-gray-50 px-6 py-4 text-md font-semibold shadow dark:bg-black dark:bg-opacity-5 md:px-8"
                                    >
                                        <div class="hidden sm:block">
                                            Material
                                        </div>
                                        <div class="hidden sm:block">
                                            Size Width
                                        </div>
                                        <!-- <div class="hidden sm:block">
                                            Size Width Unit
                                        </div> -->
                                        <div class="hidden sm:block">
                                            Consumption
                                        </div>
                                        <!-- <div class="hidden sm:block">
                                            Consumption Unit
                                        </div> -->
                                        <div class="hidden sm:block">
                                            Description
                                        </div>
                                    </div>
                                    <div class="max-h-80 overflow-y-scroll">
                                        <ng-container
                                            *ngIf="
                                                bomsListForm.controls.boMs !==
                                                null
                                            "
                                        >
                                            <div
                                                *ngFor="
                                                    let item of bomsListForm
                                                        .controls.boMs.controls;
                                                    let i = index
                                                "
                                                [formGroupName]="i"
                                                class="boms-grid grid items-center gap-4 border-b px-6 py-3 md:px-8"
                                            >
                                                <div class="flex gap-4">
                                                    <mat-form-field
                                                        class="w-full"
                                                    >
                                                        <mat-select
                                                            [formControlName]="
                                                                'materialId'
                                                            "
                                                        >
                                                            <ng-container
                                                                *ngFor="
                                                                    let item of materials
                                                                "
                                                            >
                                                                <mat-option
                                                                    value="{{
                                                                        item.id
                                                                    }}"
                                                                >
                                                                    <div
                                                                        class="flex items-center gap-1"
                                                                    >
                                                                        <p>
                                                                            {{
                                                                                item.name
                                                                            }}
                                                                            -
                                                                            size
                                                                            width
                                                                            unit:
                                                                        </p>
                                                                        <p>
                                                                            {{
                                                                                item.sizeWidthUnit
                                                                            }}
                                                                            -
                                                                            consumption
                                                                            unit:
                                                                            {{
                                                                                item.consumptionUnit
                                                                            }}
                                                                        </p>
                                                                        <div
                                                                            class="h-4 w-4 cursor-pointer rounded-full border border-gray-600"
                                                                            [ngStyle]="{
                                                                                'background-color':
                                                                                    item.colorCode,
                                                                            }"
                                                                            matTooltip="{{
                                                                                item.colorCode
                                                                            }}"
                                                                        ></div></div
                                                                ></mat-option>
                                                            </ng-container>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                                <mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        min="0"
                                                        type="number"
                                                        placeholder="Size Width"
                                                        [formControlName]="
                                                            'sizeWidth'
                                                        " /></mat-form-field
                                                ><mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        min="0"
                                                        type="number"
                                                        placeholder="Consumption"
                                                        [formControlName]="
                                                            'consumption'
                                                        "
                                                /></mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        type="text"
                                                        placeholder="Description"
                                                        [formControlName]="
                                                            'description'
                                                        "
                                                /></mat-form-field>
                                                <button
                                                    mat-raised-button
                                                    class="mb-5"
                                                    color="warn"
                                                    (click)="deleteBomRow(i)"
                                                    [disabled]="
                                                        bomsListForm.controls
                                                            .boMs.value
                                                            .length === 1
                                                    "
                                                >
                                                    <span> Remove </span>
                                                </button>
                                            </div>
                                        </ng-container>
                                    </div>
                                    <div class="mt-4 flex justify-end">
                                        <button
                                            (click)="addNewBomRow()"
                                            [disabled]="bomsListForm.invalid"
                                            mat-raised-button
                                            color="primary"
                                        >
                                            <span> Add More+ </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <button mat-button matStepperPrevious>
                                    Back
                                </button>
                                <button
                                    (click)="logBomForm()"
                                    mat-button
                                    matStepperNext
                                    class="text-blue-700"
                                >
                                    Next
                                </button>
                            </div>
                        </form>
                    </mat-step>

                    <mat-step
                        [editable]="isEditSubSpec"
                        [stepControl]="quaStandsListForm"
                        label="Add quality standards list"
                    >
                        <form [formGroup]="quaStandsListForm">
                            <div
                                class="qualityStandards flex flex-col gap-2"
                                formGroupName="qualityStandards"
                            >
                                <div class="grid">
                                    <div
                                        class="qualityStandards-grid text-secondary grid gap-4 bg-gray-50 px-6 py-4 text-md font-semibold shadow dark:bg-black dark:bg-opacity-5 md:px-8"
                                    >
                                        <div class="hidden sm:block">
                                            Material
                                        </div>
                                        <div class="hidden sm:block">
                                            Quality standard name
                                        </div>
                                        <div class="hidden sm:block">
                                            Description
                                        </div>
                                    </div>
                                    <div class="max-h-80 overflow-y-scroll">
                                        <ng-container
                                            *ngIf="
                                                quaStandsListForm.controls
                                                    .qualityStandards !== null
                                            "
                                        >
                                            <div
                                                *ngFor="
                                                    let item of quaStandsListForm
                                                        .controls
                                                        .qualityStandards
                                                        .controls;
                                                    let i = index
                                                "
                                                [formGroupName]="i"
                                                class="qualityStandards-grid grid items-center gap-4 border-b px-6 py-3 md:px-8"
                                            >
                                                <div class="flex gap-4">
                                                    <mat-form-field
                                                        class="w-full"
                                                    >
                                                        <mat-select
                                                            [formControlName]="
                                                                'materialId'
                                                            "
                                                        >
                                                            <ng-container
                                                                *ngFor="
                                                                    let item of selectedMaterialsList
                                                                "
                                                            >
                                                                <mat-option
                                                                    value="{{
                                                                        item.id
                                                                    }}"
                                                                    >{{
                                                                        item.name
                                                                    }}
                                                                    -
                                                                    {{
                                                                        item.colorName
                                                                    }}</mat-option
                                                                >
                                                            </ng-container>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                                <mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        type="text"
                                                        placeholder="Quality standard name"
                                                        [formControlName]="
                                                            'name'
                                                        "
                                                /></mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <input
                                                        matInput
                                                        type="text"
                                                        placeholder="Description"
                                                        [formControlName]="
                                                            'description'
                                                        "
                                                /></mat-form-field>
                                                <button
                                                    mat-raised-button
                                                    class="mb-5"
                                                    color="warn"
                                                    (click)="
                                                        deleteQuaStandRow(i)
                                                    "
                                                    [disabled]="
                                                        quaStandsListForm
                                                            .controls
                                                            .qualityStandards
                                                            .value.length === 1
                                                    "
                                                >
                                                    <span> Remove </span>
                                                </button>
                                            </div>
                                        </ng-container>
                                    </div>
                                    <div class="mt-4 flex justify-end">
                                        <button
                                            (click)="addNewQuaStandRow()"
                                            [disabled]="
                                                quaStandsListForm.invalid
                                            "
                                            mat-raised-button
                                            color="primary"
                                        >
                                            <span> Add More+ </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <button mat-button matStepperPrevious>
                                    Back
                                </button>
                                <button
                                    (click)="logQuaStandForm()"
                                    mat-button
                                    matStepperNext
                                    class="text-blue-700"
                                >
                                    Next
                                </button>
                            </div>
                        </form>
                    </mat-step>

                    <mat-step label="Done">
                        <p>Add new specification?</p>
                        <div>
                            <button
                                class="text-yellow-700"
                                mat-button
                                (click)="specReset()"
                            >
                                Yes
                            </button>
                        </div>
                    </mat-step>
                </mat-stepper>

                <div>
                    <button mat-button matStepperPrevious>
                        Back to add semi finished products list
                    </button>
                    <button
                        *ngIf="specificationsListForm.valid"
                        mat-button
                        matStepperNext
                        class="text-blue-700"
                    >
                        Next
                    </button>
                </div>
            </mat-step>

            <mat-step
                [editable]="isEditGeneral"
                [stepControl]="processesListForm"
                label="Add processes list"
            >
                <!-- <div
                    *ngIf="
                        processesListForm.controls.processes.value.length > 0
                    "
                >
                    <span class="p-4 font-bold"
                        >Added
                        {{ processesListForm.controls.processes.value.length }}
                        process(es) successfully!</span
                    >
                </div> -->
                <mat-stepper
                    orientation="vertical"
                    [linear]="true"
                    #stepperProcess
                >
                    <mat-step
                        [editable]="isEditProcess"
                        [stepControl]="processForm"
                        label="Fill out process general information"
                    >
                        <form [formGroup]="processForm">
                            <div class="flex gap-4">
                                <mat-form-field class="w-full">
                                    <mat-label>Process No</mat-label>
                                    <input
                                        matInput
                                        type="number"
                                        min="1"
                                        placeholder="Process No"
                                        [formControlName]="'orderNumber'"
                                    />
                                </mat-form-field>
                                <mat-form-field class="w-full">
                                    <mat-label>Process Name</mat-label>
                                    <input
                                        matInput
                                        placeholder="Process Name"
                                        [formControlName]="'name'"
                                    />
                                </mat-form-field>
                                <mat-form-field class="w-full">
                                    <mat-label>Process Code</mat-label>
                                    <input
                                        matInput
                                        placeholder="Process Code"
                                        [formControlName]="'code'"
                                    />
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field class="w-full">
                                    <mat-label>Description</mat-label>
                                    <textarea
                                        matInput
                                        placeholder="Description"
                                        [formControlName]="'description'"
                                    ></textarea>
                                </mat-form-field>
                            </div>
                            <div>
                                <button
                                    mat-button
                                    matStepperNext
                                    class="text-blue-700"
                                >
                                    Next
                                </button>
                            </div>
                        </form>
                    </mat-step>

                    <mat-step
                        [editable]="isEditProcess"
                        [stepControl]="stepListForm"
                        label="Add steps list"
                    >
                        <!-- <div
                            *ngIf="stepListForm.controls.steps.value.length > 0"
                        >
                            <span class="p-4 font-bold"
                                >Added
                                {{ stepListForm.controls.steps.value.length }}
                                step(s) successfully!</span
                            >
                        </div> -->
                        <mat-stepper [linear]="true" #stepperStep>
                            <mat-step
                                [editable]="isEditStep"
                                [stepControl]="stepForm"
                                label="Fill out step general information"
                            >
                                <form [formGroup]="stepForm">
                                    <div class="flex gap-4">
                                        <mat-form-field class="w-full">
                                            <mat-label>Step Name</mat-label>
                                            <input
                                                matInput
                                                placeholder="Step Name"
                                                [formControlName]="'name'"
                                            />
                                        </mat-form-field>
                                        <mat-form-field class="w-full">
                                            <mat-label>Step Code</mat-label>
                                            <input
                                                matInput
                                                placeholder="Step Code"
                                                [formControlName]="'code'"
                                            />
                                        </mat-form-field>
                                        <mat-form-field class="w-full">
                                            <mat-label>Step No</mat-label>
                                            <input
                                                matInput
                                                type="number"
                                                min="1"
                                                placeholder="Step No"
                                                [formControlName]="
                                                    'orderNumber'
                                                "
                                            />
                                        </mat-form-field>
                                        <mat-form-field class="w-full">
                                            <mat-label>Standard Time</mat-label>
                                            <input
                                                matInput
                                                min="0"
                                                type="number"
                                                placeholder="second"
                                                [formControlName]="
                                                    'standardTime'
                                                "
                                        /></mat-form-field>
                                        <mat-form-field class="w-full">
                                            <mat-label
                                                >Output Per Hour</mat-label
                                            >
                                            <input
                                                matInput
                                                min="0"
                                                type="number"
                                                placeholder="Output Per Hour"
                                                [formControlName]="
                                                    'outputPerHour'
                                                "
                                        /></mat-form-field>
                                    </div>
                                    <div>
                                        <mat-form-field class="w-full">
                                            <mat-label>Description</mat-label>
                                            <textarea
                                                matInput
                                                placeholder="Description"
                                                [formControlName]="
                                                    'description'
                                                "
                                            ></textarea>
                                        </mat-form-field>
                                    </div>
                                    <div>
                                        <button
                                            mat-button
                                            matStepperNext
                                            class="text-blue-700"
                                            (click)="logStepForm()"
                                        >
                                            Next
                                        </button>
                                    </div>
                                </form>
                            </mat-step>
                            <mat-step
                                [editable]="isEditStep"
                                [stepControl]="stepIOListForm"
                                label="Add step input/outputs list"
                            >
                                <!-- <div
                                    *ngIf="
                                        stepIOListForm.controls.stepIOs.value
                                            .length > 0
                                    "
                                >
                                    <span class="p-4 text-xl font-bold"
                                        >Added
                                        {{
                                            stepIOListForm.controls.stepIOs
                                                .value.length
                                        }}
                                        step input/output(s) successfully!</span
                                    >
                                </div> -->
                                <mat-stepper
                                    orientation="vertical"
                                    [linear]="isEditStepIO"
                                    #stepperStepIO
                                >
                                    <mat-step
                                        [editable]="isEditStepIO"
                                        label="Select category"
                                    >
                                        <mat-radio-group
                                            aria-label="Select an option"
                                            [(ngModel)]="category"
                                        >
                                            <div
                                                class="justify-content-between flex space-x-10"
                                            >
                                                <ng-container
                                                    *ngFor="
                                                        let category of categorys
                                                    "
                                                >
                                                    <mat-radio-button
                                                        [value]="category"
                                                    >
                                                        {{ category }}
                                                    </mat-radio-button>
                                                </ng-container>
                                            </div>
                                        </mat-radio-group>

                                        <div>
                                            <button
                                                mat-button
                                                matStepperNext
                                                class="text-blue-700"
                                                (click)="setCate()"
                                            >
                                                Next
                                            </button>
                                        </div>
                                    </mat-step>

                                    <mat-step
                                        [editable]="isEditStepIO"
                                        [stepControl]="matForm"
                                        label="Fill out step input/outputs detail "
                                        *ngIf="category === 'Material'"
                                    >
                                        <form [formGroup]="matForm">
                                            <div class="flex gap-4">
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Material</mat-label
                                                    >
                                                    <mat-select
                                                        [formControlName]="
                                                            'materialId'
                                                        "
                                                    >
                                                        <ng-container
                                                            *ngFor="
                                                                let item of selectedMaterialsList
                                                            "
                                                        >
                                                            <mat-option
                                                                value="{{
                                                                    item.id
                                                                }}"
                                                                >{{ item.name }}
                                                                -
                                                                {{
                                                                    item.colorName
                                                                }}</mat-option
                                                            >
                                                        </ng-container>
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Select Type</mat-label
                                                    >
                                                    <mat-select
                                                        [formControlName]="
                                                            'type'
                                                        "
                                                    >
                                                        <mat-option
                                                            value="Input"
                                                            >Input</mat-option
                                                        >
                                                        <mat-option
                                                            value="Output"
                                                            >Output</mat-option
                                                        >
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Consumtion</mat-label
                                                    >

                                                    <input
                                                        matInput
                                                        type="number"
                                                        min="0"
                                                        placeholder="Consumtion"
                                                        [formControlName]="
                                                            'consumption'
                                                        "
                                                /></mat-form-field>
                                            </div>
                                            <div>
                                                <button
                                                    mat-button
                                                    matStepperPrevious
                                                >
                                                    Back
                                                </button>
                                                <button
                                                    mat-button
                                                    matStepperNext
                                                    class="text-blue-700"
                                                    (click)="logMatForm()"
                                                >
                                                    Next
                                                </button>
                                            </div>
                                        </form>
                                    </mat-step>

                                    <mat-step
                                        [editable]="isEditStepIO"
                                        [stepControl]="proForm"
                                        label="Fill out step input/outputs detail "
                                        *ngIf="category === 'Product'"
                                    >
                                        <form [formGroup]="proForm">
                                            <div class="flex gap-4">
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Product Name</mat-label
                                                    >

                                                    <input
                                                        matInput
                                                        disabled
                                                        [value]="
                                                            createProductForm
                                                                .controls.name
                                                                .value
                                                        "
                                                /></mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Product Code</mat-label
                                                    >

                                                    <input
                                                        matInput
                                                        disabled
                                                        [value]="
                                                            createProductForm
                                                                .controls.code
                                                                .value
                                                        "
                                                /></mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Select Type</mat-label
                                                    >
                                                    <mat-select
                                                        [formControlName]="
                                                            'type'
                                                        "
                                                    >
                                                        <mat-option
                                                            value="Input"
                                                            >Input</mat-option
                                                        >
                                                        <mat-option
                                                            value="Output"
                                                            >Output</mat-option
                                                        >
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Quantity</mat-label
                                                    >

                                                    <input
                                                        matInput
                                                        type="number"
                                                        min="0"
                                                        placeholder="Quantity"
                                                        [formControlName]="
                                                            'quantity'
                                                        "
                                                /></mat-form-field>
                                            </div>
                                            <div>
                                                <button
                                                    mat-button
                                                    matStepperPrevious
                                                >
                                                    Back
                                                </button>
                                                <button
                                                    mat-button
                                                    matStepperNext
                                                    class="text-blue-700"
                                                    (click)="logProForm()"
                                                >
                                                    Next
                                                </button>
                                            </div>
                                        </form>
                                    </mat-step>

                                    <mat-step
                                        [editable]="isEditStepIO"
                                        [stepControl]="semiForm"
                                        label="Fill out step input/outputs detail "
                                        *ngIf="category === 'Semi'"
                                    >
                                        <form [formGroup]="semiForm">
                                            <div class="flex gap-4">
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Semi Finished
                                                        Product</mat-label
                                                    >
                                                    <mat-select
                                                        [formControlName]="
                                                            'semiFinishedProductCode'
                                                        "
                                                    >
                                                        <ng-container
                                                            *ngFor="
                                                                let item of semiListForm
                                                                    .controls
                                                                    .semiFinishedProducts
                                                                    .value
                                                            "
                                                        >
                                                            <mat-option
                                                                value="{{
                                                                    item.code
                                                                }}"
                                                                >{{
                                                                    item.name
                                                                }}</mat-option
                                                            >
                                                        </ng-container>
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Select Type</mat-label
                                                    >
                                                    <mat-select
                                                        [formControlName]="
                                                            'type'
                                                        "
                                                    >
                                                        <mat-option
                                                            value="Input"
                                                            >Input</mat-option
                                                        >
                                                        <mat-option
                                                            value="Output"
                                                            >Output</mat-option
                                                        >
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="w-full">
                                                    <mat-label
                                                        >Quantity</mat-label
                                                    >

                                                    <input
                                                        matInput
                                                        type="number"
                                                        min="0"
                                                        placeholder="Quantity"
                                                        [formControlName]="
                                                            'quantity'
                                                        "
                                                /></mat-form-field>
                                            </div>
                                            <div>
                                                <button
                                                    mat-button
                                                    matStepperPrevious
                                                >
                                                    Back
                                                </button>
                                                <button
                                                    mat-button
                                                    matStepperNext
                                                    class="text-blue-700"
                                                    (click)="logSemiForm()"
                                                >
                                                    Next
                                                </button>
                                            </div>
                                        </form>
                                    </mat-step>

                                    <mat-step label="Done">
                                        <p>Add new step input/output?</p>
                                        <div>
                                            <button
                                                mat-button
                                                (click)="stepIOReset()"
                                            >
                                                Yes
                                            </button>
                                        </div>
                                    </mat-step>
                                </mat-stepper>

                                <div>
                                    <button mat-button matStepperPrevious>
                                        Back to fill out step general
                                        information
                                    </button>
                                    <button
                                        mat-button
                                        matStepperNext
                                        class="text-blue-700"
                                        (click)="setStep()"
                                        *ngIf="stepIOListForm.valid"
                                    >
                                        Next
                                    </button>
                                </div>
                            </mat-step>
                            <mat-step label="Done">
                                <p>Add new step?</p>
                                <div>
                                    <button mat-button (click)="stepReset()">
                                        Yes
                                    </button>
                                </div>
                            </mat-step>
                        </mat-stepper>
                        <div>
                            <button mat-button matStepperPrevious>
                                Back to fill out process general information
                            </button>
                            <button
                                mat-button
                                matStepperNext
                                class="text-blue-700"
                                (click)="logProcessForm()"
                                *ngIf="stepListForm.valid"
                            >
                                Next
                            </button>
                        </div>
                    </mat-step>

                    <mat-step label="Done">
                        <p>Add new process?</p>
                        <div>
                            <button mat-button (click)="processReset()">
                                Yes
                            </button>
                        </div>
                    </mat-step>
                </mat-stepper>

                <div>
                    <button mat-button matStepperPrevious>
                        Back to add specifications list
                    </button>
                    <button
                        (click)="logProcessesListForm()"
                        mat-button
                        matStepperNext
                        class="text-blue-700"
                        *ngIf="processesListForm.valid"
                    >
                        Next
                    </button>
                </div>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Done</ng-template>
                <p>You are now done.</p>
                <div>
                    <button mat-button (click)="createProduct()">Finish</button>
                </div>
            </mat-step>
        </mat-stepper>
    </div>
</div>
